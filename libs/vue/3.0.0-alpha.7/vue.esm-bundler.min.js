import{compile}from"@vue/compiler-dom";import*as runtimeDom from"@vue/runtime-dom";import{warn,registerRuntimeCompiler}from"@vue/runtime-dom";export*from"@vue/runtime-dom";const range=2;function generateCodeFrame(e,o=0,n=e.length){const t=e.split(/\r?\n/);let r=0;const i=[];for(let e=0;e<t.length;e++)if((r+=t[e].length+1)>=o){for(let c=e-range;c<=e+range||n>r;c++){if(c<0||c>=t.length)continue;const p=c+1;i.push(`${p}${" ".repeat(3-String(p).length)}|  ${t[c]}`);const s=t[c].length;if(c===e){const e=o-(r-s)+1,t=Math.max(1,n>r?s-e:n-o);i.push("   |  "+" ".repeat(e)+"^".repeat(t))}else if(c>e){if(n>r){const e=Math.max(Math.min(n-r,s),1);i.push("   |  "+"^".repeat(e))}r+=s+1}}break}return i.join("\n")}const EMPTY_OBJ="production"!==process.env.NODE_ENV?Object.freeze({}):{},NOOP=()=>{},isString=e=>"string"==typeof e;"production"!==process.env.NODE_ENV&&console[console.info?"info":"log"]("You are running a development build of Vue.\nMake sure to use the production build (*.prod.js) when deploying for production.");const compileCache=Object.create(null);function compileToFunction(e,o){if(!isString(e)){if(!e.nodeType)return"production"!==process.env.NODE_ENV&&warn("invalid template option: ",e),NOOP;e=e.innerHTML}const n=e,t=compileCache[n];if(t)return t;if("#"===e[0]){const o=document.querySelector(e);"production"===process.env.NODE_ENV||o||warn(`Template element not found or is empty: ${e}`),e=o?o.innerHTML:""}const{code:r}=compile(e,{hoistStatic:!0,onError(o){if("production"===process.env.NODE_ENV)throw o;{const n=`Template compilation error: ${o.message}`,t=o.loc&&generateCodeFrame(e,o.loc.start.offset,o.loc.end.offset);warn(t?`${n}\n${t}`:n)}},...o}),i=new Function("Vue",r)(runtimeDom);return compileCache[n]=i}registerRuntimeCompiler(compileToFunction);export{compileToFunction as compile};